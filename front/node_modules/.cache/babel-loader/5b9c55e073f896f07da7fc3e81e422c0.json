{"ast":null,"code":"var _jsxFileName = \"/home/amir/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/project/maafe-malle/front/src/component/Calculate.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography'; // import Grid from '@material-ui/core/Grid';\n\nimport Card from '@material-ui/core/Card'; // import CardActionArea from '@material-ui/core/CardActionArea';\n\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport calc from '../function/calc';\nimport './../style/Calculate.css';\n\nlet Calculate = props => {\n  let onCalcChange = props.onCalcChange;\n  let [text, setText] = useState('');\n  let equel;\n\n  const handleKeyDown = e => {\n    let num = e.key;\n    calcInput(num);\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  let calcInput = input => {\n    let last;\n    let towLast;\n    let sign = '+' || '-' || '*' || '/';\n\n    if (sign === '-') {\n      console.log('sfsfsdfsdf');\n    }\n\n    if (text) {\n      towLast = text.slice(-2, -1);\n      last = text.slice(-1);\n      console.log(last);\n    }\n\n    const reg = /^\\d$|^[+*/=.-]$|^Enter$|^Backspace$|^C$|^CE$/gm;\n    if (!reg.exec(input)) return console.error(input + ' -  is not a digit or math sign');\n\n    if (input === '=' || input === 'Enter') {\n      if (last === '+' || last === '-' || last === '*' || last === '/') {\n        text = text.slice(0, -1);\n        setText(text);\n      }\n\n      console.log('string from calculata : ' + text);\n      equel = calc(text);\n      setText(equel);\n      handaleLog(text, equel);\n      return;\n    }\n\n    if (input === '+' || input === '*' || input === '/') {\n      if (!last) return;\n\n      if (last === '+' || last === '*' || last === '/' || last === '-') {\n        text = text.slice(0, -1);\n        setText(text);\n      }\n\n      setText(prevText => prevText + input);\n      return;\n    }\n\n    if (input === '-') {\n      if (last === '-' || last === '+' || last === '*' || last === '/') {\n        if (towLast === '-' || towLast === '+' || towLast === '*' || towLast === '/') {\n          text = text.slice(0, -1);\n          setText(text);\n          return;\n        }\n      }\n\n      setText(prevText => prevText + input);\n      return;\n    }\n\n    if (input === 'Backspace' || input === 'C') {\n      text = text.slice(0, -1);\n      setText(text);\n      return;\n    }\n\n    if (input === 'CE') {\n      text = '';\n      setText(text);\n      return;\n    }\n\n    setText(prevText => prevText + input);\n  };\n\n  let handaleLog = (text, equel) => {\n    const arr = [text, ' = ', equel]; // let numbers = arr.toString();\n    // numbers = numbers.replace(/,/g, '');\n\n    onCalcChange(arr);\n  };\n\n  const useStyles = makeStyles(theme => ({\n    root: {\n      maxWidth: 345,\n      '& > *': {\n        margin: theme.spacing(2)\n      }\n    }\n  }));\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h2\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 6\n    }\n  }, text)), /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    size: \"large\",\n    variant: \"outlined\",\n    onClick: e => calcInput(e.target.innerText),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    orientation: \"vertical\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 8\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 8\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 8\n    }\n  }, \"7\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 8\n    }\n  }, \"=\")), /*#__PURE__*/React.createElement(ButtonGroup, {\n    orientation: \"vertical\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 8\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 8\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 8\n    }\n  }, \"8\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 8\n    }\n  }, \"0\")), /*#__PURE__*/React.createElement(ButtonGroup, {\n    orientation: \"vertical\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 8\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 8\n    }\n  }, \"6\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 8\n    }\n  }, \"9\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 8\n    }\n  }, \".\")), /*#__PURE__*/React.createElement(ButtonGroup, {\n    orientation: \"vertical\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 8\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 8\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 8\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 8\n    }\n  }, \"/\")), /*#__PURE__*/React.createElement(ButtonGroup, {\n    orientation: \"vertical\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 8\n    }\n  }, \"C\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 8\n    }\n  }, \"CE\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 8\n    }\n  }, \"@\"), /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 8\n    }\n  }, \"@\"))))));\n};\n\nexport default Calculate;","map":{"version":3,"sources":["/home/amir/שולחן העבודה/project/maafe-malle/front/src/component/Calculate.jsx"],"names":["React","useState","useEffect","Button","ButtonGroup","makeStyles","Typography","Card","CardActions","CardContent","CardMedia","calc","Calculate","props","onCalcChange","text","setText","equel","handleKeyDown","e","num","key","calcInput","window","addEventListener","removeEventListener","input","last","towLast","sign","console","log","slice","reg","exec","error","handaleLog","prevText","arr","useStyles","theme","root","maxWidth","margin","spacing","classes","target","innerText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n// import Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\n// import CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\n\r\nimport calc from '../function/calc';\r\nimport './../style/Calculate.css';\r\n\r\nlet Calculate = (props) => {\r\n\tlet onCalcChange = props.onCalcChange;\r\n\tlet [text, setText] = useState('');\r\n\tlet equel;\r\n\r\n\tconst handleKeyDown = (e) => {\r\n\t\tlet num = e.key;\r\n\t\tcalcInput(num);\r\n\t};\r\n\t\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', handleKeyDown);\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', handleKeyDown);\r\n\t\t};\r\n\t});\r\n\tlet calcInput = (input) => {\r\n\t\tlet last;\r\n\t\tlet towLast;\r\n\t\tlet sign = '+' || '-' || '*' || '/';\r\n\t\tif(sign === '-'){\r\n\t\t\tconsole.log('sfsfsdfsdf');\r\n\t\t\t\r\n\t\t}\r\n\t\tif(text){\r\n\t\t\ttowLast = text.slice(-2,-1)\r\n\t\t\tlast = text.slice(-1);\r\n\t\t\tconsole.log(last);\r\n\t\t}\r\n\t\t\r\n\t\t const reg = /^\\d$|^[+*/=.-]$|^Enter$|^Backspace$|^C$|^CE$/gm;\r\n\t\tif (!reg.exec(input))\r\n\t\t\treturn console.error(input + ' -  is not a digit or math sign');\r\n\r\n\t\tif (input === '=' || input === 'Enter') {\r\n\t\t\tif(last === '+' || last === '-' || last === '*' || last === '/'){\r\n\t\t\t\ttext = text.slice(0, -1);\r\n\t\t\t\tsetText(text);\r\n\t\t\t}\r\n\t\t\tconsole.log('string from calculata : ' + text);\r\n\t\t\t\r\n\t\t\tequel = calc(text)\t\t\t\t\r\n\t\t\tsetText(equel)\r\n\t\t\thandaleLog(text, equel);\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (input === '+' || input === '*' || input === '/' ) {\r\n\r\n\t\t\tif(!last) return;\r\n\r\n\t\t\tif(last === '+' || last === '*' || last === '/' || last === '-'){\r\n\t\t\t\ttext = text.slice(0, -1);\r\n\t\t\t\tsetText(text);\r\n\t\t\t}\r\n\r\n\t\t\tsetText(prevText => prevText + input);\r\n\t\t\treturn\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(input === '-'){\r\n\t\t\tif((last === '-' || last === '+' || last === '*' || last === '/')){\r\n\t\t\t\tif((towLast === '-' || towLast === '+' || towLast === '*' || towLast === '/')){\r\n\t\t\t\t\ttext = text.slice(0, -1);\r\n\t\t\t\t\tsetText(text);\r\n\t\t\t\t\treturn\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tsetText(prevText => prevText + input);\r\n\t\t\treturn\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif (input === 'Backspace' || input === 'C') {\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\tsetText(text);\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (input === 'CE') {\r\n\t\t\ttext = ''\r\n\t\t\tsetText(text);\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\r\n\t\tsetText(prevText => prevText + input);\r\n\t};\r\n\r\n\tlet handaleLog = (text, equel) => {\r\n\t\tconst arr = [text, ' = ', equel] \r\n\t\t// let numbers = arr.toString();\r\n\t\t// numbers = numbers.replace(/,/g, '');\r\n\t\tonCalcChange(arr);\r\n\t};\r\n\r\n\tconst useStyles = makeStyles((theme) => ({\r\n\t\troot: {\r\n\t\t\tmaxWidth: 345,\r\n\t\t\t'& > *': {\r\n\t\t\t\tmargin: theme.spacing(2),\r\n\t\t\t},\r\n\t\t},\r\n\t}));\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Card className={classes.root}>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant='h2' component='h2'>\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t\t<CardActions>\r\n\t\t\t\t\t<ButtonGroup\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tonClick={(e) => calcInput(e.target.innerText)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ButtonGroup\r\n\t\t\t\t\t\t\torientation='vertical'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button>1</Button>\r\n\t\t\t\t\t\t\t<Button>4</Button>\r\n\t\t\t\t\t\t\t<Button>7</Button>\r\n\t\t\t\t\t\t\t<Button>=</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t<ButtonGroup\r\n\t\t\t\t\t\t\torientation='vertical'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button>2</Button>\r\n\t\t\t\t\t\t\t<Button>5</Button>\r\n\t\t\t\t\t\t\t<Button>8</Button>\r\n\t\t\t\t\t\t\t<Button>0</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t<ButtonGroup\r\n\t\t\t\t\t\t\torientation='vertical'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button>3</Button>\r\n\t\t\t\t\t\t\t<Button>6</Button>\r\n\t\t\t\t\t\t\t<Button>9</Button>\r\n\t\t\t\t\t\t\t<Button>.</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t<ButtonGroup\r\n\t\t\t\t\t\t\torientation='vertical'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button>+</Button>\r\n\t\t\t\t\t\t\t<Button>-</Button>\r\n\t\t\t\t\t\t\t<Button>*</Button>\r\n\t\t\t\t\t\t\t<Button>/</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t<ButtonGroup\r\n\t\t\t\t\t\t\torientation='vertical'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button>C</Button>\r\n\t\t\t\t\t\t\t<Button>CE</Button>\r\n\t\t\t\t\t\t\t<Button>@</Button>\r\n\t\t\t\t\t\t\t<Button>@</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t</CardActions>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Calculate;\r\n"]},"metadata":{},"sourceType":"module"}